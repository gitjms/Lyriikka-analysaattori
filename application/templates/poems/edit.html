{% extends "layout.html" %}

<title>LyrFreq - Poem Editing Page</title>

{% block body %}

<h3 aria-label="Poems">Edit poem</h3><br>
<form method="POST" action="{{ url_for('poems_edit', poem=poem, poem_id=poem_id, poet_id=poet_id, from_page=from_page) }}">

  <div class="col-auto">
    <button class="btn btn-sm btn-secondary" type="submit" name="Back" style="width:75px; float: left; margin-right: 50px;" value="Back">Back</button>

    {{ form.language() }}

    <button class="btn btn-sm btn-primary" type="submit" name="Submit" style="width:75px; float: right;" value="Submit">Submit</button>

    <div style="clear: both;"></div>
  </div><br>

  <div class="col-auto">
    <label for="title" class="col-sm-2 col-form-label">Title:</label>
    <input class="form-control" id="title" name="title" type="text" value="{{ poem.name }}"></input >
  </div>
  <td>
    <ul>
      {% for error in form.title.errors %}
      <li>{{ error }}</li>
      {% endfor %}
    </ul>
  </td>

  <div class="col-auto">
    <label for="poet" class="col-sm-12 col-form-label">Poet:<small class="text-muted" style="float: right;">you may only add, not remove, poets</small></label>
    <input class="form-control" id="poet" name="poet" type="text" value="{% for p in poem.poets %}{{ p.name }}{{ ", " if not loop.last }}{% endfor %}"></input >
  </div>
  <td>
    <ul>
      {% for error in form.poet.errors %}
      <li>{{ error }}</li>
      {% endfor %}
    </ul>
  </td>

  <div class="col-auto">
    <label for="lyrics" class="col-sm-2 col-form-label">Lyrics:</label>
    <textarea class="form-control" id="lyrics" name="lyrics" type="text" rows="10" style="overflow:auto;">{{ poem.lyrics }}</textarea>
  </div>
  <td>
    <ul>
      {% for error in form.lyrics.errors %}
      <li>{{ error }}</li>
      {% endfor %}
    </ul>
  </td>

</form>

{% endblock %}

