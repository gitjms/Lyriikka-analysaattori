{% extends "layout.html" %}

<title>LyrFreq - Songs Listing Page (visible to those logged in)</title>

{% block body %}

<h1 aria-label="Songs">Songs</h1><br>

<b>Sort by:</b>
<div class="form-group">
  <form action= "{{ url_for('songs_list') }}" method="POST">

    <table>
      <tr>
        <th style="padding-left: 125px;">title</th>
        <th style="padding-left: 95px;">lang:title</th>
      </tr>
    </table>

    <table>
      <tr>
        <td>
          <button class="btn btn-sm btn-secondary" type="submit" name="sort" style="width:60px; height:30px;" value="id" aria-label="Sort Songs by id">id</button>
        </td>
        <td>
           <button class="btn btn-sm btn-secondary" type="submit" name="sort" style="margin-left: 20px; width:60px; height:30px;" value="titasc" aria-label="Sort Songs by Title ascending">A->Z</button>
        </td>
        <td>
          <button class="btn btn-sm btn-secondary" type="submit" name="sort" style="width:60px; height:30px;" value="titdesc" aria-label="Sort Songs by Title descending">Z->A</button>
        </td>
        <td>
          <button class="btn btn-sm btn-secondary" type="submit" name="sort" style="margin-left: 20px; width:60px; height:30px;" value="langtitasc" aria-label="Sort Songs by First Language Then Title ascending">A->Z</button>
        </td>
        <td>
          <button class="btn btn-sm btn-secondary" type="submit" name="sort" style="width:60px; height:30px;" value="langtitdesc" aria-label="Sort Songs by First Language Then Title descending">Z->A</button>
        </td>
      </tr>
    </table>

  </form>
</div>

<div class="col-auto">
  <table>
    <tr>
      <th>id</th>
      <th>title</th>
      <th>lang</th>
      <th style="padding-left: 20px;">edit</th>
      <th style="padding-left: 10px;">delete</th>
    </tr>
    {% for song in songs %}
      <tr>
        <td style="text-align: right; padding-right: 10px;" aria-label="Song id {{ song.id }}">{{ song.id }}.</td>
  	    <!-- SONG NAME LINK -->
        <td>
  	      <a href="{{ url_for('songs_show', song_id=song.id, author_id='None', from_page='songs') }}" aria-label="Song Title {{ song.name }}">{{ song.name }}</a>
  	    </td>
  	    <!-- SONG LANGUAGE -->
        <td style="padding-left: 10px;" aria-label="Song Language {{ song.language }}">{{ song.language[:2]|upper }}</td>
  	    <!-- EDIT BUTTON -->
        <td>
          <form method="POST" action="{{ url_for('songs_edit', song_id=song.id) }}">
            <input type="hidden" name="song_id" value="{{ song.id }}"></input>
            <div class="col-auto">
              <button class="btn btn-sm btn-warning" type="submit" name="Edit" style="width:40px; height:20px;" value="Edit" aria-label="Button For Edit Song {{ song.name }}"></button>
            </div>
          </form>
        </td>
  	    <!-- DELETE BUTTON -->
        <td>
          <form method="POST" action="{{ url_for('songs_delete', song_id=song.id) }}">
            <input type="hidden" name="song_id" value="{{ song.id }}"></input>
            <div class="col-auto">
              <button class="btn btn-sm btn-danger" type="submit" name="Delete" style="width:40px; height:20px;" value="Delete" aria-label="Button For Delete Song {{ song.name }}"> </button>
            </div>
          </form>
        </td>
      </tr>
    {% endfor %}
  </table>
</div>

{% endblock %}
