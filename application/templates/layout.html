<!DOCTYPE html>
  <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fi" lang="fi">
    <head>
	  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" charset="utf-8">
      <title>LyrFreq</title>
	  
	  <!-- Bootstrap CSS -->
	  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
	  
	  <!-- CSS -->
	  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/styles.css') }}">
	
	  <script type="text/javascript" src="{{ url_for('static', filename='js/Chart.min.js') }}"></script>

    </head>

    <body>
	  <div class="container-fluid" >

		<!-- FLASH MESSAGES -->

		{% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for category, message in messages %}
		      <div class="alert alert-{{ category }} alert-dismissible" role="alert" id="alert">
			    <span>{{ message }}</span>
		      </div>
            {% endfor %}
          {% endif %}
	    {% endwith %}
	  </div>

	  <!-- NAVBAR -->

	  <div class="container-fluid">
        <nav class="navbar navbar-expand-md navbar-dark nav-justified" style="background-color: #7d1c09;">
		<table>
		<thead>

		<tr>
          <!-- LYRFREQ HOME LOGO -->
		  <th rowspan="2">
            <a class="navbar-brand" href="{{ url_for('songs_index') }}">
		      <img src="{{url_for('static', filename='images/brandlogo.png')}}" width="100" height="45" class="d-inline-flex align-top image-responsive myLogo" alt="LyrFreq">
		    </a>
		  </th>
          <!-- LOGIN / LOGOUT / CREATE ACCOUNT -->
		  <th colspan="2" style="text-align: left;">
		  <div class="navbar navbar-dark justify-content-between">
		    {% if g.user.is_authenticated %}
		      <a style="color:#b0746a; font-size:18px;">
			    Hello {{ g.user.username }}
		      </a>
		      <a style="margin-left: 20px; margin-right: 20px; color:white; font-size:18px;" href="{{ url_for('auth_logout') }}">Logout</a>
		    {% else %}
		      <a style="margin-left: 20px; margin-right: 20px;color:white; font-size:18px;" href="{{ url_for('auth_login') }}">Login</a>
		      <a style="margin-left: 20px; margin-right: 20px;color:white; font-size:18px;" href="{{ url_for('auth_create') }}">Create account</a>
		    {% endif %}
            </div>
		  </th>
		  <!-- SEARCH WORD -->
		  <th>
		    <nav class="navbar-nav" >
			  <form class="form-inline my-0 my-lg-0" action="/words/show/" method="POST">
				<input class="form-control mr-sm-2" type="text" style="max-width: 170px" placeholder="Search for Word" aria-label="Search" name="wordsearch" id="wordsearch" required>
				<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
			  </form>
		    </nav>
		  </th>
		  </tr>

		  <!-- LIST SONGS / ADD SONGS -->

		  <tr>
		    {% if g.user.is_authenticated %}
            <div class="navbar navbar-dark justify-content-between">
			  <style type="text/css">
			    a:link {color: #000000; text-decoration: underline; }
			    a:active {color: #0000ff; text-decoration: underline; }
			    a:visited {color: #008000; text-decoration: underline; }
			    a:hover {color: #ff0000; text-decoration: none; }
			  </style>
		      <td>
			    <a class="nav-item nav-link active" href="{{ url_for('songs_list') }}" style="color: white" >List songs</a>
		      </td>
		      <td>
                <a class="nav-item nav-link active" href="{{ url_for('songs_create') }}" style="color: white">Add songs</a>
		      </td>
            </div>
		    {% else %}
            <div class="navbar navbar-dark justify-content-between">
		      <td>
			    <a class="nav-item nav-link disabled" href="{{ url_for('songs_list') }}">List songs</a>
		      </td>
		      <td>
                <a class="nav-item nav-link disabled" href="{{ url_for('songs_create') }}">Add songs</a>
		      </td>
            </div>
		    {% endif %}
		    <td>
			  <form class="form-inline my-0 my-lg-0" action="/words/show/" method="POST">
			    <div class="btn-group-sm" role="group" aria-label="Language choice">
	            <button type="button" class="btn btn-secondary" style="margin-left: 30px; color: #5e1b0f; font-weight: bold;" name="langchoice" id="fi" value="fi">Fi</button>
			    <button type="button" class="btn btn-secondary" style="margin-left: 5px; color: #5e1b0f; font-weight: bold;" name="langchoice" id="en" value="en">En</button>
			    <button type="button" class="btn btn-secondary" style="margin-left: 5px; color: #5e1b0f; font-weight: bold;" name="langchoice" id="fr" value="fr">Fr</button>
                </div>
              </form>
		    </td>
		</tr>

		</thead>
		</table>
        </nav>

		<!-- GRAY TEXT AREA -->

	    <div class="jumbotron jumbotron-fluid">
		  <div class="container">
		    {% block body %}{% endblock %}
		  </div>
	    </div>

	  </div>

	  <!-- FOR ADMIN ONLY -->

	  {% if g.user.admin %}

        <!-- REGISTERED USERS COUNTER -->

		<div class="container-fluid">
		  <div style="text-align: left; color: #5e1b0f; font-size:15px;" class="lead">Registered users: {{session['counter']}}</div >
	    </div>

        <!-- JOIN TABLES -->

		<div class="container-fluid">
		  <form action="/" method="POST">
		    <button class="btn btn-sm btn-primary" type="submit" style="float: right; margin-left: 20px" name="join" id="join">Add default songs</button>
		  </form>
	    </div>

        <!-- LIST USERS -->

	    <div class="container-fluid" >
		  <form action="/auth" method="POST">
		    <button class="btn btn-sm btn-primary" type="submit" style="float: right;" name="join">List users</button>
		  </form>
	    </div>
      {% endif %}

	<!-- Bootstrap 4.5.0 -->
    <!-- jQuery, Popper.js, and JS -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
	
	<!--  -->
	<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js'></script>
	
	<!-- message timeout -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	<script>
	$(document).ready(function(){
		$(".alert").delay(4000).slideUp(300);
	});
	</script>

    </body>
    
  </html>